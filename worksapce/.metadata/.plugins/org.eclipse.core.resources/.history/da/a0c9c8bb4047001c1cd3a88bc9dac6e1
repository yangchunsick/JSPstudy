/*
	댓글형 게시판
	1. 공지사항 : notice
	2. 댓글      : reply 
 */
/* 자식이 먼저 없어져야 부모를 제거 할 수 있음*/
DROP TABLE REPLY;
DROP TABLE NOTICE;

CREATE TABLE NOTICE
(
	/* 게시글 번호 */ NNO			NUMBER,
	/* 작성자       */ WRITER			VARCHAR2(50),
	/* 제목          */ TITLE			VARCHAR2(2000),
	/* 내용          */ CONTENT		VARCHAR2(4000),
	/* 조회수       */ HIT			NUMBER,
	/* 작성자 IP */ IP				VARCHAR2(32),	
	/* 작성일 	   */ NDATE			DATE,
	/* 최종 수정일 */ NLASTMODIFIED	DATE
);
CREATE TABLE REPLY
(
	/* 댓글 번호 */  RNO			NUMBER,
	/* 작성자 */    WRITER		VARCHAR2(50),
	/* 댓글 내용 */  CONTENT 	VARCHAR2(2000),
	/* 작성자 IP */ IP			VARCHAR2(32),
	/* 게시글 번호 */ NNO			NUMBER,
	/* 댓글 작성일 */ RDATE		DATE,
);

ALTER TABLE NOTICE ADD CONSTRAINT NOTICE_PK PRIMARY KEY (NNO);
ALTER TABLE REPLY ADD CONSTRAINT REPLY_PK PRIMARY KEY (RNO);

ALTER TABLE REPLY ADD CONSTRAINT REPLY_NOTICE_FK FOREIGN KEY(NNO) REFERENCES NOTICE(NNO) ON DELETE CASCADE; 

DROP SEQUENCE NOTICE_SEQ;
DROP SEQUENCE REPLY_SEQ;


